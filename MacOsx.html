<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Mac OS X Notes</title>
    <meta name="generator" content="emacs-wiki.el" />
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <link rel="made" href="mailto:cyberpsyche[AT]gmail.com" />
    <link rel="home" href="WelcomePage.html" />
    <link rel="index" href="WikiIndex.html" />
    <link rel="stylesheet" type="text/css" href="main.css"><script type="text/javascript">
function showToolTip(machaine) {
  if (machaine != "")   {
    document.getElementById('tooltip').innerHTML     = machaine;
    document.getElementById('tooltipbox').style.visibility = 'visible';
  }
}
function hide() {
  document.getElementById('tooltip').innerHTML     = '';
  document.getElementById('tooltipbox').style.visibility = 'hidden';
}
</script>
<div class="menu">
<div class="menuitem">
  <a href="WelcomePage.html">Wiki</a>
</div>

<div class="menuitem">
  <a href="../workwiki/WelcomePage.html">work</a>
</div>

</div><!-- menu ends here -->
<div id="tooltipbox">
<div id="tooltip"></div>
</div>
  </head>
  <body>
    <h1 id="top">Mac OS X Notes</h1>

    <!-- Page published by Emacs Wiki begins here -->
<h3>OS X 下使用 emacs</h3>

<p>
Emacs for OS X

</p>

<p>
<a href="http://emacsformacosx.com/">http://emacsformacosx.com/</a>

</p>

<p>
设置浏览器

</p>

<pre class="example">(setq browse-url-generic-program &quot;/usr/bin/open&quot;)
(setq browse-url-browser-function 'browse-url-generic)
</pre>

<h3>Startup keyboard shortcuts</h3>

<table class="ewiki-table" border="2" cellpadding="5">
<thead>
<tr>
<th>Key or key combination</th><th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td>Option</td><td>Display all bootable volumes (Startup Manager)</td>
</tr>
<tr>
<td>Shift</td><td>Perform Safe Boot (start up in Safe Mode)</td>
</tr>
<tr>
<td>C</td><td>Start from a bootable disc (DVD, CD)</td>
</tr>
<tr>
<td>T</td><td>Start in Firewire target disk mode</td>
</tr>
<tr>
<td>N</td><td>Start from Netboot server</td>
</tr>
<tr>
<td>X</td><td>Force Mac OS X startup (if non-Mac OS X startup volumes are present)</td>
</tr>
<tr>
<td>Command+V</td><td>Start in Verbose Mode</td>
</tr>
<tr>
<td>Command+S</td><td>Start in Single User Mode</td>
</tr>
</tbody>
</table>

<h3>My keyboard shortcuts</h3>

<table class="ewiki-table" border="2" cellpadding="5">
<thead>
<tr>
<th>shortcuts</th><th>functions</th><th>setting</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control+G</td><td>Search in Google</td><td>keyboard shortcuts for services</td>
</tr>
<tr>
<td>Control+D</td><td>Search in Dictionary</td><td>keyboard shortcuts for services</td>
</tr>
<tr>
<td>Control+Command+S</td><td>Speak the selected text</td><td>speech setting</td>
</tr>
<tr>
<td>Shift+Command+M</td><td>Zoom the Application</td><td>keyboard shortcuts for applications</td>
</tr>
<tr>
<td>Command+W</td><td>Close window</td><td>-</td>
</tr>
<tr>
<td>Command+H</td><td>Hide window</td><td>-</td>
</tr>
<tr>
<td>Command+Q</td><td>Quit application</td><td>-</td>
</tr>
<tr>
<td>Command+Delete</td><td>Move to Trash</td><td>??? NOT act in Mac OS X 10.6 ???</td>
</tr>
<tr>
<td>Shift+Command+Delete</td><td>Empty Trash</td><td>-</td>
</tr>
<tr>
<td>Option+Command+esc</td><td>Force Quit</td><td>-</td>
</tr>
<tr>
<td>Shift+Command+4</td><td>Screen shot to file</td><td>- </td>
</tr>
<tr>
<td>Shift+Ctrl+Command+4</td><td>Screen shot to mem</td><td>- </td>
</tr>
<tr>
<td>Shift+Command+左右键</td><td>Safari tabs switch</td><td>-</td>
</tr>
<tr>
<td>Command+方向键</td><td>Screen switch</td><td>-</td>
</tr>
<tr>
<td>Ctrl+1/2/3/4</td><td>Screen switch</td><td>-</td>
</tr>
<tr>
<td>Shift+Command+{}</td><td>Terminal.app tabs switch</td><td>-</td>
</tr>
<tr>
<td>Shift+Ctrl+Eject</td><td>Shut down screen</td><td>- </td>
</tr>
<tr>
<td>Fn+上下键</td><td>Page up and Page down</td><td>-</td>
</tr>
<tr>
<td>Alt+Command+C</td><td>Copy the current path in Finder.app, then you can paste it to Terminal.app, :)</td>
</tr>
<tr>
<td>Command+Option+C</td><td>复制当前文件夹路径的快捷键（超有用）</td>
</tr>
</tbody>
</table>

<h3>Mac Ports</h3>

<p>
port search <foo> 列出匹配关键字foo的包

</p>

<p>
sudo port install <foo>   下载，编译和安装foo包

</p>

<p>
port destroot <foo>    下载，编译，安装foo包到称之为“destroot”的中转目的地，便于开发和测试

</p>

<p>
sudo port uninstall <foo>            删除foo包

</p>

<p>
port installed               列出所有安装的包

</p>

<p>
port clean <foo>                     安装foo包后删除中转文件

</p>

<p>
port contents <foo>                    列出安装的foo包的全部文件

</p>

<p>
port deps <foo>                           列出foo包的依赖性port variants <foo>列出foo包的变种

</p>

<p>
port pkg <foo>                             为foo包编译出.pkg格式包。并不安装foo包port list列出所有有效的包port dmg <foo>为foot包编译Mac OS X 磁盘镜像格式的文件（内含.pkg格式包）。并不安装foo包

</p>

<p>
port rpm <foo>                             为foo包编译出RPM格式安装包。并不安装foo包

</p>

<p>
sudo port activate <foo>   激活foo包。如果安装了多个版本，使用sudo port activate <foo> <version>激活

</p>

<p>
sudo port deactivate <foo>  非激活foo包，如果安装了多个版本，使用sudo port deactivate <foo> <version>非激活

</p>

<p>
port location <foo>  显示安装的foo包的路径

</p>

<p>
port outdated <foo>   判断已安装的foo是否过期了

</p>

<p>
port outdated   列出所有过期的包

</p>

<p>
sudo port upgrade <foo>     升级foo包（自动解决依赖性），同时非激活当前安装的foo包，使用-u参数可以卸载当前过期的foo包

</p>

<p>
sudo port ungrade outdated    升级所有过期的包，并非激活当前包，使用-u参数删除过期的包

</p>

<p>
sudo port selfupdate    更新Macports安装包本身

</p>

<h4>把python27设为default</h4>

<pre class="example">sudo port select --set python python27
</pre>

<h3>Homebrew</h3>

<p>
安装 and 卸载 

</p>

<p>
ruby -e "$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/install">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)"

</p>

<p>
ruby -e "$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/uninstall">https://raw.githubusercontent.com/Homebrew/install/master/uninstall</a>)"

</p>

<h4>升级自身</h4>

<p>
brew update

</p>

<h4>查看过期的包</h4>

<p>
brew outdated

</p>

<h4>update everything</h4>

<p>
brew upgrade

</p>

<h4>update a specific formula</h4>

<p>
brew upgrade $formula

</p>

<h4>uninstall everything</h4>

<p>
brew cleanup

</p>

<h4>uninstall a specific formula</h4>

<p>
brew cleanup $formula

</p>

<h4>To stop something from being updated/upgraded</h4>

<p>
brew pin $formula

</p>

<h4>To allow that formulae to update again</h4>

<p>
brew unpin $formula

</p>

<h3>Homebrew-cask</h3>

<p>
brew cask 是一个用命令行管理 Mac 下应用的工具，它是基于 homebrew 的一个增强工具。可用它来管理 Mac 下的 Gui 程序，例如mactex, qq, chrome, evernote等。 如：

</p>

<h4>安装 cask 本身</h4>

<p>
brew tap phinze/cask

</p>

<p>
brew install brew-cask

</p>

<h4>安装 cask 包</h4>

<p>
brew cask install mactex

</p>

<h4>查看已安装的 cask 包</h4>

<p>
brew cask list

</p>

<h4>Launchrocket  是一个管理 brew 安装的各种 services 的GUI工具。</h4>

<p>
Launchrocket 是一个管理 brew 安装的各种 services 的GUI工具。 安装方法为：

</p>

<p>
brew tap jimbojsb/launchrocket

</p>

<p>
brew cask install launchrocket

</p>

<h3>Tips</h3>

<h4>黑框的出现</h4>

<p>
其实是 universal access 中的 Voice Over 设为 On 了。 改为Off即可，快捷键是 F5。

</p>

<h4>屏幕放大</h4>

<p>
Ctrl + Mouse Wheel

</p>

<h4>Firefox 重复打开</h4>

<p>
当报"One firefox is already open..."时，可以通过以下的办法进行：

</p>

<pre class="example">/usr/bin/find ~/Library/Application\ Support/Firefox/Profiles/ -name &quot;\.parentlock&quot; -delete
/Applications/Firefox.app/Contents/MacOS/firefox &amp;
</pre>

<h4>Firefox 强制刷新</h4>

<p>
Command + R

</p>

<h4>Safari 下的新闻Reader</h4>

<p>
Shift + Command + R， 很直观，很好用。

</p>

<h4>在Finder中显示所有文件</h4>

<p>
在Terminal中输入

</p>

<pre class="example">defaults write com.apple.Finder AppleShowAllFiles YES
</pre>

<h4>SSH Remote Control Setting </h4>

<p>
System Preferences, select Sharing, and enable remote logins. Ensure that ssh is not disabled.

</p>

<h4>一键关闭或最小化所有窗口</h4>

<p>
按住option点窗口关闭或最小化

</p>

<h4>快速隐藏打开的程序窗口</h4>

<p>
按住option点桌面

</p>

<h4>一次只查看一个程序的窗口</h4>

<p>
按住option + command在dock上点选程序

</p>

<h4>预览文件</h4>

<p>
在Finder中单击文件，按空格预览。

</p>

<h4>幻灯片查看多个文件</h4>

<p>
选中多个文件后按option + command + y

</p>

<h4>Finder 下的路径输入框</h4>

<p>
shift + command + g 

</p>

<p>
tips: Command + Click 点击Finder顶部的目录名称时可以看到Path列表。

</p>

<h4>窗口切换</h4>

<p>
command + tab 不同程序窗口的切换

</p>

<p>
command + ` 同一程序不同窗口的切换

</p>

<h4>Front Row 媒体中心</h4>

<p>
command + esc

</p>

<h4>语音</h4>

<pre class="example">say hello sam
</pre>

<h4>抓屏</h4>

<p>
screencapture -iW ~/Desktop/screen.jpg   抓窗口

</p>

<p>
screencapture -S ~/Desktop/screen.jpg   抓全屏

</p>

<p>
screencapture -ic  抓屏幕的一部分

</p>

<h4>软件升级</h4>

<p>
softwareupdate -i -a   安装所有升级项

</p>

<p>
softwareupdate -i -r   安装推荐升级项

</p>

<h4>系统升级</h4>

<p>
Snow Leopard ( Mac OS X 10.6 ) 使用光盘，然后从Mac.com下载升级包，同时升级XCode。

</p>

<h4>查看.pkg的内容</h4>

<p>
lsbom .pkg/Contents/Archive.bom

</p>

<h4>命令行下看图</h4>

<p>
qlmanage -p <file>

</p>

<p>
我把它做成一个叫ss的alias，很好用。

</p>

<h4>命令行运行app</h4>

<p>
open -a /Application/Preview.app abc.pdf

</p>

<p>
可以做成一个alias

</p>

<p>
alias pdf="open -a /Application/Preview.app"

</p>

<h4>使NTFS移动硬盘可读写</h4>

<p>
先用 diskutil info /Volumes/USB_Disk 查看 Devices Node, 形如 /dev/disk2s1

</p>

<p>
再建mount点， 如/Users/sam/Public/NTFS_USB_Disk/， 将/Volumes/USB_Disk umount后，

</p>

<p>
sudo mount_ntfs -o rw,nobrowse /dev/disk2s1 /Users/sam/Public/NTFS_USB_Disk/ 

</p>

<h4>AUTOFS</h4>

<p>
配置文件 /etc/autofs.conf, /etc/auto_master, /etc/auto_home， 使用 sudo automount -vc 刷新。

</p>

<p>
我建/home的方法是把/etc/auto_master中的/home去掉，automount -vc后自己建/home/username的软链接。

</p>

<h4>关闭、启动网卡</h4>

<p>
ipconfig en0 down 

</p>

<p>
ipconfig en0 up

</p>

<h4>显示路由表</h4>

<p>
netstat -nr

</p>

<h4>lipo</h4>

<p>
个在 Mac OS X 中处理裁减通用程序（Universal Binaries）的工具

</p>

<h4>系统用户信息</h4>

<p>
存在 /var/db/dslocal/nodes/Default/users/ 中。 查看 USERNAME.plist 文件。

</p>

<h4>设置PATH</h4>

<ol>
<li>输出PATH
</li>
</ol>

<p>
/usr/libexec/path_helper

</p>

<ol>
<li>修改系统PATH路径。
</li>
</ol>

<p>
编辑 /etc/paths 和 /etc/paths.d/*

</p>

<ol>
<li>设置动态库路径
</li>
</ol>

<p>
export DYLD_LIBRARY_PATH=/usr/local/lib

</p>

<h4>设置环境变量</h4>

<pre class="example">launchctl setenv STUDIO_JDK /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk
</pre>

<p>
或修改 /etc/launchd.conf

</p>

<h4>Code Sign</h4>

<p>
xcode: valid signing identity not found 的完美解决  

</p>

<p>
在原来的电脑上，打开应用/实用工具/钥匙串访问/我的证书，右击正常使用的证书/导出p12格式的证书，要求输入密码。将这个p12文件拷到新的电脑，双击导入，输入刚刚的密码。

</p>

<h4>Mac中的内存标记</h4>

<p>
Wired(联动): 系统核心占用的，有效期内是不可以被交换到Disk上去的，以保证对速度等要求较高的处理，可以使用IOMalloc（IOFree）以及kmem_alloc_wired（kmem_free）来分派Wired memory。

</p>

<p>
Active(活跃): 表示这些内存数据正在使用中，或者刚被使用过。

</p>

<p>
Inactive(非活跃): 表示这些内存中的数据是有效的，但是最近没有被使用。

</p>

<p>
Free(可用空间): 表示这些内存中的数据是无效的，即内存剩余量。

</p>

<h3>XCode </h3>

<h4>Could not find info...</h4>

<p>
遇到一些不可知的信息处理错误，可以尝试着把以下目录中的相关文件夹清除，之后再试即可。

</p>

<pre class="example">~/Library/Developer/Xcode/DerivedData
</pre>

<h3>Softwares in Mac OS X</h3>

<h4>Python</h4>

<p>
编译安装的包在 /Library/Python/2.5/site-packages 下，系统的包在 /System/Library/Frameworks/Python.framework/Versions/2.5/Extras/lib/python/ 下，默认加载系统自带的包。

</p>

<h4>Macspice </h4>

<p>
电子设计软件

</p>

<h4>Evernote</h4>

<p>
跨平台记事软件

</p>

<h3>Apple Script</h3>

<h4>shell script </h4>

<pre class="example">do shell script &quot;launchctl setenv STUDIO_JDK /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk&quot;
</pre>

<p>
save as an Application
</p><!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
      <hr />
      <table width="100%" border="0" summary="Footer navigation">
        <col width="33%"/><col width="34%"/><col width="33%"/>
        <tr>
          <td align="left">Update : 2020-01-15
          </td>
          <td align="center">
           <span class="foothome">
              <a href="WelcomePage.html">Home</a> / <a href="WikiIndex.html">Index</a>
            </span>
          </td>
          <td align="right">
           cyberpsyche[AT]gmail.com
          </td>
        </tr>
      </table>
   <center>
     Based on
      <a href="http://www.debian.org"><img style="border: 0em none;" src="images/debianLogo.png" alt="Debian Logo" /></a>    
   <a href="http://www.debian.org"><img style="border: 0em none;" src="images/debian.png" alt="Debian Text Logo" /></a>   
       GNU/Linux&nbsp;and&nbsp;<a href="http://www.apple.com"><img style="border: 0em none;" src="images/MacLogo.jpg" alt="Mac Logo" /></a>OS X|&nbsp;Powered by    
      <a href="http://www.gnu.org/software/emacs"><img style="border: 0em none;" src="images/emacs.gif" alt="Emacs Logo" /></a>&nbsp;|   
      Best view with    
   <a href="http://www.getfirefox.com/"><img style="border: 0em none;" src="images/getFirefox.gif" alt="Firefox Logo" /></a> 
  </center>  
  </div>
  </body>
</html>